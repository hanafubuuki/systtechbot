---
alwaysApply: false
---
# Workflow —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞ systtechbot

**–î–ª—è:** Code Assistant (Cursor AI, GitHub Copilot, –∏ —Ç.–¥.)  
**–î–æ–∫—É–º–µ–Ω—Ç—ã:** [vision.md](../../doc/vision.md) | [conventions.mdc](conventions.mdc) | [tasklist_tech_debt.md](../../doc/tasklist_tech_debt.md)

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### 1. –ö–∞—á–µ—Å—Ç–≤–æ –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ

- –í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞—á–∏ **—Ç–æ–ª—å–∫–æ** –∏–∑ [tasklist_tech_debt.md](../../doc/tasklist_tech_debt.md)
- –ò—Ç–µ—Ä–∞—Ü–∏–∏ **—Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ** (0 ‚Üí 1 ‚Üí 2 ‚Üí 3 ‚Üí 4)
- –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ **—É–ª—É—á—à–∞—Ç—å** –∫–∞—á–µ—Å—Ç–≤–æ, –Ω–µ —É—Ö—É–¥—à–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- **–ù–µ—Ç –ª–æ–º–∞—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π** ‚Äî –±–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

### 2. –ò—Ç–µ—Ä–∞—Ü–∏—è = —Ü–∏–∫–ª –∫–∞—á–µ—Å—Ç–≤–∞

–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑:

```
–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ ‚Üí –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ö–æ–º–º–∏—Ç ‚Üí –ü–µ—Ä–µ—Ö–æ–¥
```

**–ù–æ–≤–æ–µ:** –¥–æ–±–∞–≤–ª–µ–Ω —ç—Ç–∞–ø "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞" —Å `make quality`

---

## –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å

### –®–∞–≥ 1: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Ç–µ—Ä–∞—Ü–∏–∏:**

1. –ü—Ä–æ—á–∏—Ç–∞–π –∑–∞–¥–∞—á–∏ —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏–∑ [tasklist_tech_debt.md](../../doc/tasklist_tech_debt.md)
2. –ü—Ä–µ–¥–ª–æ–∂–∏ —Ä–µ—à–µ–Ω–∏–µ —Å **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞**:
   ```
   –ò—Ç–µ—Ä–∞—Ü–∏—è N: [–ù–∞–∑–≤–∞–Ω–∏–µ]
   
   –ó–∞–¥–∞—á–∞ 1: [–Ω–∞–∑–≤–∞–Ω–∏–µ]
   –§–∞–π–ª: path/to/file.py
   
   –ë—ã–ª–æ:
   ```python
   # —Å—Ç–∞—Ä—ã–π –∫–æ–¥
   ```
   
   –°—Ç–∞–ª–æ:
   ```python
   # –Ω–æ–≤—ã–π –∫–æ–¥
   ```
   
   –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: [–ø–æ—á–µ–º—É —ç—Ç–æ —É–ª—É—á—à–µ–Ω–∏–µ]
   
   –ó–∞–¥–∞—á–∞ 2: ...
   ```
3. –û–±—ä—è—Å–Ω–∏ **—á—Ç–æ —É–ª—É—á—à–∏—Ç—Å—è** (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤)
4. **–î–æ–∂–¥–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**‚ùå –ù–ï –º–µ–Ω—è–π –∫–æ–¥ –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è!**

---

### –®–∞–≥ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –û–ö:**

1. –°–æ–∑–¥–∞–π/–∏–∑–º–µ–Ω–∏ —Ñ–∞–π–ª—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É
2. –°–ª–µ–¥—É–π –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º [conventions.mdc](conventions.mdc)
3. –ü—Ä–æ–≤–µ—Ä—å:
   - ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç KISS
   - ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ vision.md
   - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–µ–∑–¥–µ
   - ‚úÖ Type hints –¥–ª—è –í–°–ï–• –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - ‚úÖ Docstrings –≤ Google style
   - ‚úÖ –ù–µ—Ç magic strings (–∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã/enums)
   - ‚úÖ –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö side effects

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (–ù–û–í–û–ï)

**–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:**

1. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```bash
   make format
   ```
   - –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –ø–æ–∫–∞–∂–∏ –∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. **–õ–∏–Ω—Ç–∏–Ω–≥:**
   ```bash
   make lint
   ```
   - –í—Å–µ –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
   - –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚úÖ 0 –æ—à–∏–±–æ–∫"

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:**
   ```bash
   make typecheck
   ```
   - mypy –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å 0 –æ—à–∏–±–æ–∫
   - –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º

4. **–¢–µ—Å—Ç—ã:**
   ```bash
   make test
   ```
   - –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–º–∏
   - –ù–∏–∫–∞–∫–∏—Ö –Ω–æ–≤—ã—Ö –ø–∞–¥–µ–Ω–∏–π

**‚ùå –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏ –¥–∞–ª—å—à–µ, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ—à–ª–∞!**

---

### –®–∞–≥ 4: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:**

1. –ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   ```
   ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
   - –§–∞–π–ª1: –∏–∑–º–µ–Ω–µ–Ω–∏–µ1
   - –§–∞–π–ª2: –∏–∑–º–µ–Ω–µ–Ω–∏–µ2
   
   ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:
   - make format: OK
   - make lint: 0 errors
   - make typecheck: 0 errors
   - make test: all passed
   
   –ì–æ—Ç–æ–≤–æ –∫ —Ä—É—á–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.
   ```

2. –ù–∞–ø–æ–º–Ω–∏ —Ç–µ—Å—Ç –∏–∑ tasklist_tech_debt.md
3. **–î–æ–∂–¥–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–¢–∏–ø–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞: `make run`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram: `/start`, –¥–∏–∞–ª–æ–≥, `/clear`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤: `tail -f bot.log`

**‚ùå –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!**

---

### –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:**

1. –û–±–Ω–æ–≤–∏ [tasklist_tech_debt.md](../../doc/tasklist_tech_debt.md):
   - –û—Ç–º–µ—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏: `- [x]`
   - –û–±–Ω–æ–≤–∏ —Å—á–µ—Ç—á–∏–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   - –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å—ã –∏—Ç–µ—Ä–∞—Ü–∏–π (‚è≥ ‚Üí üîÑ ‚Üí ‚úÖ)
   - –û–±–Ω–æ–≤–∏ –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

2. –ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è:
   ```markdown
   | 0 | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 4/4 | make quality —Ä–∞–±–æ—Ç–∞–µ—Ç | 2025-10-11 |
   
   **–ü—Ä–æ–≥—Ä–µ—Å—Å:** 4/18 –∑–∞–¥–∞—á (22%)
   ```

---

### –®–∞–≥ 6: –ö–æ–º–º–∏—Ç

**–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è tasklist:**

```bash
git add .
git commit -m "refactor(tech-debt-N): –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
git push origin main
```

**–§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–∞ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞:**
- `refactor(tech-debt-0): add code quality tools (ruff, mypy, coverage)`
- `refactor(tech-debt-1): fix global config loading and OpenAI client`
- `refactor(tech-debt-2): add strict typing with mypy`
- `refactor(tech-debt-3): increase test coverage to 80%`
- `refactor(tech-debt-4): add docstrings and final polish`

**–ü—Ä–∞–≤–∏–ª–æ:** –ü—Ä–µ—Ñ–∏–∫—Å `refactor(tech-debt-N)` –¥–ª—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞

---

### –®–∞–≥ 7: –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞:**

1. –°–ø—Ä–æ—Å–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:
   ```
   –ò—Ç–µ—Ä–∞—Ü–∏—è N –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ
   
   –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ
   - –õ–∏–Ω—Ç–∏–Ω–≥: ‚úÖ 0 errors
   - –¢–∏–ø–∏–∑–∞—Ü–∏—è: ‚úÖ 0 mypy errors
   - –¢–µ—Å—Ç—ã: ‚úÖ all passed
   - Coverage: XX%
   
   –°–ª–µ–¥—É—é—â–∞—è: –ò—Ç–µ—Ä–∞—Ü–∏—è N+1 - [–ù–∞–∑–≤–∞–Ω–∏–µ]
   –ó–∞–¥–∞—á–∏:
   - [ ] ...
   - [ ] ...
   
   –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é?
   ```

2. **–î–æ–∂–¥–∏—Å—å –û–ö** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –í–µ—Ä–Ω–∏—Å—å –∫ **–®–∞–≥—É 1**

---

## –ß–∞—Å—Ç—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

### –ï—Å–ª–∏ lint/typecheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

```
1. –ü–æ–∫–∞–∂–∏ –æ—à–∏–±–∫–∏:
   - –§–∞–π–ª: path/to/file.py
   - –°—Ç—Ä–æ–∫–∞: XX
   - –û—à–∏–±–∫–∞: [–æ–ø–∏—Å–∞–Ω–∏–µ]

2. –ü—Ä–µ–¥–ª–æ–∂–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–æ–¥–æ–º

3. –î–æ–∂–¥–∏—Å—å —Å–æ–≥–ª–∞—Å–∏—è

4. –ò—Å–ø—Ä–∞–≤—å

5. –ü–æ–≤—Ç–æ—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫—É: make quality
```

**‚ùå –ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞/mypy!**

---

### –ï—Å–ª–∏ —Ç–µ—Å—Ç —É–ø–∞–ª –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
1. –°–æ–æ–±—â–∏ –æ –ø—Ä–æ–±–ª–µ–º–µ:
   ‚ùå Test failed: test_name
   Error: [–æ–ø–∏—Å–∞–Ω–∏–µ]

2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–∏—á–∏–Ω—É

3. –ü—Ä–µ–¥–ª–æ–∂–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
   - –õ–∏–±–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥
   - –õ–∏–±–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç (–µ—Å–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ)

4. –î–æ–∂–¥–∏—Å—å —Å–æ–≥–ª–∞—Å–∏—è

5. –ò—Å–ø—Ä–∞–≤—å

6. –ü–æ–≤—Ç–æ—Ä–∏: make test
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –¢–µ—Å—Ç—ã ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç. –ï—Å–ª–∏ –æ–Ω–∏ –ø–∞–¥–∞—é—Ç, –ª–∏–±–æ –∫–æ–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –ª–∏–±–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç —É—Å—Ç–∞—Ä–µ–ª.

---

### –ï—Å–ª–∏ coverage —É–ø–∞–ª

```
1. –ü–æ–∫–∞–∂–∏ —Ç–µ–∫—É—â–∏–π coverage:
   Coverage: XX% (–±—ã–ª–æ YY%)

2. –ù–∞–π–¥–∏ –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã–π –∫–æ–¥:
   make coverage
   # –ü–æ—Å–º–æ—Ç—Ä–∏ htmlcov/index.html

3. –ü—Ä–µ–¥–ª–æ–∂–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

4. –î–æ–∂–¥–∏—Å—å —Å–æ–≥–ª–∞—Å–∏—è

5. –î–æ–±–∞–≤—å —Ç–µ—Å—Ç—ã

6. –ü—Ä–æ–≤–µ—Ä—å: make coverage
```

**–¶–µ–ª–µ–≤–æ–π coverage:** >= 80%

---

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

```
1. –ü—Ä–æ–≤–µ—Ä—å [tasklist_tech_debt.md](../../doc/tasklist_tech_debt.md)

2. –ï—Å–ª–∏ —Ç–∞–º –Ω–µ—Ç ‚Äî —Å–ø—Ä–æ—Å–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   "–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å [–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç] –¥–ª—è [—Ü–µ–ª—å].
    –≠—Ç–æ –Ω–µ –≤ –ø–ª–∞–Ω–µ. –î–æ–±–∞–≤–∏—Ç—å?"

3. –î–æ–∂–¥–∏—Å—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

4. –î–æ–±–∞–≤—å –≤ pyproject.toml[tool.XXX] –∏ [project.optional-dependencies]

5. –í—ã–ø–æ–ª–Ω–∏: uv sync

6. –û–±–Ω–æ–≤–∏ Makefile –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
```

**‚ùå –ù–ï –¥–æ–±–∞–≤–ª—è–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è!**

---

## –§–æ—Ä–º–∞—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

### ‚úÖ –•–æ—Ä–æ—à–æ

```
–ò—Ç–µ—Ä–∞—Ü–∏—è 0: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

–ü—Ä–µ–¥–ª–∞–≥–∞—é –¥–æ–±–∞–≤–∏—Ç—å:

1. pyproject.toml ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏–∏:

[project.optional-dependencies]
dev = [
    "ruff>=0.1.0",      # —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä + –ª–∏–Ω—Ç–µ—Ä
    "mypy>=1.7.0",       # type checker
    "pytest-cov>=4.1.0", # coverage
]

[tool.ruff]
line-length = 100
...

2. Makefile ‚Äî –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

make format     # ruff format .
make lint       # ruff check .
make typecheck  # mypy bot.py handlers/ ...
make quality    # –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:
- ruff ‚Äî –±—ã—Å—Ç—Ä–∞—è –∑–∞–º–µ–Ω–∞ black+flake8+isort
- mypy ‚Äî —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- pytest-cov ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏: uv sync
–ü—Ä–æ–≤–µ—Ä–∫–∞: make quality

–°–æ–≥–ª–∞—Å–Ω—ã?
```

### ‚ùå –ü–ª–æ—Ö–æ

```
–î–æ–±–∞–≤–∏–ª ruff –∏ mypy. –ì–æ—Ç–æ–≤–æ.
```

**–û–±—ä—è—Å–Ω—è–π –ß–¢–û, –ó–ê–ß–ï–ú, –ö–ê–ö –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.**

---

## Checklist –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] `make format` ‚Äî –∫–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] `make lint` ‚Äî 0 –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- [ ] `make typecheck` ‚Äî 0 –æ—à–∏–±–æ–∫ mypy
- [ ] `make test` ‚Äî –≤—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª–µ–Ω—ã–µ
- [ ] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: `make run`
- [ ] –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram –ø—Ä–æ–π–¥–µ–Ω–æ

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

- [ ] **conventions.mdc:** –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–æ–±–ª—é–¥–µ–Ω—ã
- [ ] **vision.md:** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –Ω–µ –Ω–∞—Ä—É—à–µ–Ω—ã
- [ ] **tasklist_tech_debt.md:** –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] Docstrings –¥–æ–±–∞–≤–ª–µ–Ω—ã –≥–¥–µ –Ω—É–∂–Ω–æ
- [ ] –ù–µ—Ç TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –õ–æ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ü–æ–ª—É—á–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------------|------------------|
| –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ruff format | 100% (–∞–≤—Ç–æ) |
| –°—Ç–∏–ª—å –∫–æ–¥–∞ | ruff check | 0 –æ—à–∏–±–æ–∫ |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è | mypy | 0 –æ—à–∏–±–æ–∫ |
| –¢–µ—Å—Ç—ã | pytest | 100% passed |
| –ü–æ–∫—Ä—ã—Ç–∏–µ | pytest-cov | >= 80% |

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ü–µ–ª–µ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö

1. **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** ‚Äî –±–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî –Ω–µ –ª–æ–º–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
3. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** ‚Äî —Å–ª–µ–¥—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP

–ï—Å–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–±—É–µ—Ç –ª–æ–º–∞—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî **—Å–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
make quality

# –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
make format      # –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make lint        # –õ–∏–Ω—Ç–∏–Ω–≥
make typecheck   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
make test        # –¢–µ—Å—Ç—ã
make coverage    # –¢–µ—Å—Ç—ã + –ø–æ–∫—Ä—ã—Ç–∏–µ

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make run         # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

# –û—á–∏—Å—Ç–∫–∞
make clean       # –£–¥–∞–ª–∏—Ç—å __pycache__, –ª–æ–≥–∏
```

---

## –í–∞–∂–Ω–æ!

1. **–í—Å–µ–≥–¥–∞ –¥–æ–∂–∏–¥–∞–π—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
2. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞** (`make quality`)
3. **–û–±–Ω–æ–≤–ª—è–π tasklist_tech_debt.md** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
4. **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏–º—ã** ‚Äî git –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è
5. **–°–ª–µ–¥—É–π KISS** ‚Äî –¥–∞–∂–µ –ø—Ä–∏ —É–ª—É—á—à–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–µ —É—Å–ª–æ–∂–Ω—è–π

---

## –û—Ç–ª–∏—á–∏—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ workflow

| –ê—Å–ø–µ–∫—Ç | –û–±—ã—á–Ω—ã–π workflow | Tech Debt workflow |
|--------|------------------|-------------------|
| –¶–µ–ª—å | –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ |
| –ö–æ–º–º–∏—Ç—ã | `feat(iter-N)` | `refactor(tech-debt-N)` |
| –ü—Ä–æ–≤–µ—Ä–∫–∏ | –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | `make quality` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| –ò–∑–º–µ–Ω–µ–Ω–∏—è | –ú–æ–∂–Ω–æ –ª–æ–º–∞—é—â–∏–µ | –¢–æ–ª—å–∫–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ |
| –î–æ–∫—É–º–µ–Ω—Ç | tasklist.md | tasklist_tech_debt.md |
| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –†–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ | –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ |

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-10-11  
**–ë–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞:** [workflow.mdc](workflow.mdc) v1.0
