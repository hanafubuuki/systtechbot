# –ü–ª–∞–Ω —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞ systtechbot

**–ë–∞–∑–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:** [vision.md](vision.md) | [conventions.mdc](../.cursor/rules/conventions.mdc) | [workflow.mdc](../.cursor/rules/workflow.mdc)  
**–ü—Ä–∏–Ω—Ü–∏–ø:** –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–û—Å–Ω–æ–≤–∞–Ω–∏–µ:** Code review –æ—Ç Senior Python Tech Lead (2025-10-11)

---

## üìä –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ó–∞–¥–∞—á–∏ | –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –î–∞—Ç–∞ |
|----------|----------|--------|--------|---------------|------|
| 0 | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 4/4 | `make quality` —Ä–∞–±–æ—Ç–∞–µ—Ç | 2025-10-11 |
| 1 | –ö—Ä–∏—Ç–∏—á–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 5/5 | –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç | 2025-10-11 |
| 2 | –¢–∏–ø–∏–∑–∞—Ü–∏—è | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 4/4 | `mypy` –±–µ–∑ –æ—à–∏–±–æ–∫ | 2025-10-11 |
| 3 | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ | ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ | 0/5 | Coverage 80%+ | - |
| 4 | –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ | ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ | 0/4 | –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–µ–ª–µ–Ω—ã–µ | - |

**–õ–µ–≥–µ–Ω–¥–∞:** ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ | üîÑ –í —Ä–∞–±–æ—Ç–µ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | ‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 13/22 –∑–∞–¥–∞—á (59%)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 0: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** `make quality` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –ó–∞–¥–∞—á–∏

- [x] –î–æ–±–∞–≤–∏—Ç—å `ruff` (—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä + –ª–∏–Ω—Ç–µ—Ä) –≤ `pyproject.toml`
- [x] –î–æ–±–∞–≤–∏—Ç—å `mypy` (type checker) –≤ `pyproject.toml`
- [x] –î–æ–±–∞–≤–∏—Ç—å `pytest-cov` –¥–ª—è coverage –≤ `pyproject.toml`
- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ `Makefile`: `format`, `lint`, `typecheck`, `quality`

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**pyproject.toml:**
```toml
[project.optional-dependencies]
dev = [
    "pytest>=7.0.0",
    "pytest-asyncio>=0.21.0",
    "pytest-cov>=4.1.0",
    "ruff>=0.1.0",
    "mypy>=1.7.0",
]

[tool.ruff]
line-length = 100
target-version = "py311"

[tool.ruff.lint]
select = [
    "E",   # pycodestyle errors
    "W",   # pycodestyle warnings
    "F",   # pyflakes
    "I",   # isort
    "B",   # flake8-bugbear
    "C4",  # flake8-comprehensions
    "UP",  # pyupgrade
]
ignore = ["E501"]

[tool.mypy]
python_version = "3.11"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
exclude = ["tests/"]

[tool.pytest.ini_options]
testpaths = ["tests"]
asyncio_mode = "auto"
```

**Makefile (–¥–æ–ø–æ–ª–Ω–∏—Ç—å):**
```makefile
format:
	@echo "üé® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞..."
	uv run ruff format .
	@echo "‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ"

lint:
	@echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º..."
	uv run ruff check .
	@echo "‚úÖ –õ–∏–Ω—Ç–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω"

typecheck:
	@echo "üîé –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤..."
	uv run mypy bot.py handlers/ services/ roles/ config.py
	@echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"

coverage:
	@echo "üìä –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º..."
	uv run pytest tests/ -v --cov=. --cov-report=term-missing --cov-report=html
	@echo "‚úÖ Coverage report: htmlcov/index.html"

quality: format lint typecheck test
	@echo "‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–π–¥–µ–Ω—ã!"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

- [ ] **conventions.mdc:** –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç KISS (–ø—Ä–æ—Å—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
- [ ] **vision.md:** –ë–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ
- [ ] **workflow.mdc:** –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

### –¢–µ—Å—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
uv sync

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make format

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä
make lint

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å type checker
make typecheck

# 5. –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
make quality

# –û–∂–∏–¥–∞–µ–º–æ: –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫
```

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

**–¶–µ–ª—å:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ó–∞–¥–∞—á–∏

- [x] –£–±—Ä–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É config –≤ `handlers/messages.py:15`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å singleton/–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è OpenAI –∫–ª–∏–µ–Ω—Ç–∞ –≤ `services/llm.py`
- [x] –°–æ–∑–¥–∞—Ç—å `constants.py` —Å enum `MessageRole` –≤–º–µ—Å—Ç–æ magic strings
- [x] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- [x] –û–±–Ω–æ–≤–∏—Ç—å `conventions.mdc` –∏ `vision.md` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º

### –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**1. constants.py (–Ω–æ–≤—ã–π —Ñ–∞–π–ª):**
```python
"""–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
from enum import Enum


class MessageRole(str, Enum):
    """–†–æ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –¥–∏–∞–ª–æ–≥–µ"""
    SYSTEM = "system"
    USER = "user"
    ASSISTANT = "assistant"
```

**2. services/llm.py (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥):**
```python
# –ö—ç—à –∫–ª–∏–µ–Ω—Ç–æ–≤ OpenAI
_client_cache: dict[tuple[str, str], AsyncOpenAI] = {}


def _get_or_create_client(config: Config) -> AsyncOpenAI:
    """–ü–æ–ª—É—á–∏—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ OpenAI (singleton pattern)"""
    key = (config.openai_api_key, config.openai_base_url)
    if key not in _client_cache:
        _client_cache[key] = AsyncOpenAI(
            api_key=config.openai_api_key,
            base_url=config.openai_base_url
        )
    return _client_cache[key]


async def get_llm_response(messages: list, config: Config) -> str:
    client = _get_or_create_client(config)
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

**3. handlers/messages.py (—É–±—Ä–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π config):**
```python
# ‚ùå –£–±—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫—É 14-15:
# config = load_config()

# ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏:
@router.message()
async def handle_message(message: Message):
    config = load_config()  # –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–¥–µ—Å—å
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

**4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MessageRole:**
```python
# services/context.py
from constants import MessageRole

# ‚ùå –ë—ã–ª–æ:
if messages[0]["role"] == "system":

# ‚úÖ –°—Ç–∞–ª–æ:
if messages[0]["role"] == MessageRole.SYSTEM:
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

- [ ] **conventions.mdc:** –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö side effects, singleton –ø—Ä–æ—Å—Ç–æ–π
- [ ] **vision.md:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞, –Ω–µ—Ç overengineering
- [ ] **workflow.mdc:** –ö–æ–¥ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω, –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏

### –¢–µ—Å—Ç

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make test

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
make run

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Telegram:
#    - /start
#    - –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥
#    - /clear
#    - –ï—â–µ —Å–æ–æ–±—â–µ–Ω–∏—è

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ
make quality

# –û–∂–∏–¥–∞–µ–º–æ: –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ + –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
```

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 2: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å type hints –≤–µ–∑–¥–µ, –ø—Ä–æ–π—Ç–∏ mypy –±–µ–∑ –æ—à–∏–±–æ–∫  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** `mypy` –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å 0 –æ—à–∏–±–∫–∞–º–∏

### –ó–∞–¥–∞—á–∏

- [x] –î–æ–±–∞–≤–∏—Ç—å type hints –≤–æ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç)
- [x] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≥–¥–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ mypy
- [x] –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è —Å–ª–æ–≤–∞—Ä–µ–π (TypedDict –¥–ª—è context)
- [x] –û–±–Ω–æ–≤–∏—Ç—å `conventions.mdc` –∏ `vision.md` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º

### –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**1. services/context.py - TypedDict –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
```python
from typing import TypedDict
from datetime import datetime


class Message(TypedDict):
    """–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è"""
    role: str
    content: str


class UserContext(TypedDict):
    """–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    messages: list[Message]
    user_name: str | None
    last_activity: datetime


# –¢–∏–ø–∏–∑–∞—Ü–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
user_contexts: dict[tuple[int, int], UserContext] = {}


def get_context(user_id: int, chat_id: int) -> UserContext:
    """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    key = (user_id, chat_id)
    if key in user_contexts:
        return user_contexts[key]
    return {"messages": [], "user_name": None, "last_activity": datetime.now()}
```

**2. bot.py - –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:**
```python
from typing import NoReturn


async def main() -> None:
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞"""
    # ... –∫–æ–¥
```

**3. handlers/messages.py:**
```python
from aiogram.types import Message


@router.message()
async def handle_message(message: Message) -> None:
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"""
    # ... –∫–æ–¥
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

- [ ] **conventions.mdc:** Type hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] **vision.md:** –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞, –Ω–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤
- [ ] **workflow.mdc:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

### –¢–µ—Å—Ç

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã
make typecheck

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make test

# 3. –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
make quality

# –û–∂–∏–¥–∞–µ–º–æ: mypy –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–æ–∫ (0 errors)
```

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è

**–¶–µ–ª—å:** –î–æ–≤–µ—Å—Ç–∏ coverage –¥–æ 80%+  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** `make coverage` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ

### –ó–∞–¥–∞—á–∏

- [ ] –°–æ–∑–¥–∞—Ç—å `tests/test_llm.py` —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º OpenAI
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/test_handlers.py` –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å parametrized —Ç–µ—Å—Ç—ã –¥–ª—è `trim_context`
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/test_config.py` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `conventions.mdc` –∏ `vision.md` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º

### –§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤

**tests/test_llm.py:**
```python
"""–¢–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ LLM"""
import pytest
from unittest.mock import AsyncMock, patch
from services.llm import get_llm_response, _get_or_create_client
from config import Config


@pytest.fixture
def mock_config():
    """–§–∏–∫—Å—Ç—É—Ä–∞ —Å —Ç–µ—Å—Ç–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π"""
    return Config(
        telegram_token="test_token",
        openai_api_key="test_key",
        openai_base_url="https://api.test.com",
        openai_model="gpt-test"
    )


@pytest.mark.asyncio
async def test_llm_response_success(mock_config):
    """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM"""
    mock_response = AsyncMock()
    mock_response.choices = [
        AsyncMock(message=AsyncMock(content="Test response"))
    ]
    
    with patch("services.llm.AsyncOpenAI") as mock_client_cls:
        mock_client = AsyncMock()
        mock_client.chat.completions.create.return_value = mock_response
        mock_client_cls.return_value = mock_client
        
        result = await get_llm_response(
            [{"role": "user", "content": "Hi"}], 
            mock_config
        )
        
        assert result == "Test response"


@pytest.mark.asyncio
async def test_llm_response_empty(mock_config):
    """–¢–µ—Å—Ç –ø—É—Å—Ç–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM"""
    mock_response = AsyncMock()
    mock_response.choices = []
    
    with patch("services.llm.AsyncOpenAI") as mock_client_cls:
        mock_client = AsyncMock()
        mock_client.chat.completions.create.return_value = mock_response
        mock_client_cls.return_value = mock_client
        
        result = await get_llm_response(
            [{"role": "user", "content": "Hi"}], 
            mock_config
        )
        
        assert "–ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç" in result.lower()


@pytest.mark.asyncio
async def test_llm_markdown_cleanup(mock_config):
    """–¢–µ—Å—Ç –æ—á–∏—Å—Ç–∫–∏ markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
    mock_response = AsyncMock()
    mock_response.choices = [
        AsyncMock(message=AsyncMock(content="**Bold** and *italic* text"))
    ]
    
    with patch("services.llm.AsyncOpenAI") as mock_client_cls:
        mock_client = AsyncMock()
        mock_client.chat.completions.create.return_value = mock_response
        mock_client_cls.return_value = mock_client
        
        result = await get_llm_response(
            [{"role": "user", "content": "Hi"}], 
            mock_config
        )
        
        assert "**" not in result
        assert "*" not in result
```

**tests/test_config.py:**
```python
"""–¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
import pytest
from unittest.mock import patch
from config import load_config


def test_load_config_missing_telegram_token():
    """–¢–µ—Å—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ TELEGRAM_TOKEN"""
    with patch.dict("os.environ", {"OPENAI_API_KEY": "test"}, clear=True):
        with pytest.raises(ValueError, match="TELEGRAM_TOKEN"):
            load_config()


def test_load_config_missing_openai_key():
    """–¢–µ—Å—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ OPENAI_API_KEY"""
    with patch.dict("os.environ", {"TELEGRAM_TOKEN": "test"}, clear=True):
        with pytest.raises(ValueError, match="OPENAI_API_KEY"):
            load_config()


def test_load_config_defaults():
    """–¢–µ—Å—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π"""
    with patch.dict("os.environ", {
        "TELEGRAM_TOKEN": "test_token",
        "OPENAI_API_KEY": "test_key"
    }):
        config = load_config()
        assert config.temperature == 0.7
        assert config.max_tokens == 1000
        assert config.max_context_messages == 10
```

**tests/test_context.py (–¥–æ–ø–æ–ª–Ω–∏—Ç—å):**
```python
@pytest.mark.parametrize("input_len,max_messages,expected_len", [
    (5, 10, 5),      # –º–µ–Ω—å—à–µ –ª–∏–º–∏—Ç–∞
    (11, 10, 11),    # —Ä–æ–≤–Ω–æ –ª–∏–º–∏—Ç (system + 10)
    (25, 10, 11),    # –±–æ–ª—å—à–µ –ª–∏–º–∏—Ç–∞
    (1, 10, 1),      # –æ–¥–∏–Ω system
])
def test_trim_context_parametrized(input_len, max_messages, expected_len):
    """–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç —É—Å–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"""
    messages = [
        {"role": "system", "content": "System"},
        *[{"role": "user", "content": f"msg{i}"} for i in range(input_len - 1)]
    ]
    result = trim_context(messages, max_messages)
    assert len(result) == expected_len
    if result:
        assert result[0]["role"] == "system"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

- [ ] **conventions.mdc:** –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫—Ä–∏—Ç–∏—á–Ω–æ–µ, –Ω–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–µ
- [ ] **vision.md:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ
- [ ] **workflow.mdc:** –¢–µ—Å—Ç—ã –∑–µ–ª–µ–Ω—ã–µ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

### –¢–µ—Å—Ç

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make coverage

# 2. –û—Ç–∫—Ä—ã—Ç—å HTML –æ—Ç—á–µ—Ç
# Windows: start htmlcov/index.html
# Linux/Mac: open htmlcov/index.html

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
# –û–∂–∏–¥–∞–µ–º–æ: Coverage >= 80%
# –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ–∫—Ä—ã—Ç—ã
```

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 4: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

**–¶–µ–ª—å:** –ü—Ä–∏–≤–µ—Å—Ç–∏ –∫–æ–¥ –≤ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ `make quality` –ø—Ä–æ—Ö–æ–¥—è—Ç

### –ó–∞–¥–∞—á–∏

- [ ] –ü—Ä–æ–π—Ç–∏ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º —Å `make format` –∏ `make lint`
- [ ] –î–æ–±–∞–≤–∏—Ç—å docstrings –≥–¥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (Google style)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `conventions.mdc` –∏ `vision.md`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

**README.md (–¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–¥–µ–ª):**
```markdown
## üîç –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
make format     # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (ruff)
make lint       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º (ruff)
make typecheck  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (mypy)
make coverage   # –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make quality    # –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
```

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ruff
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä: ruff (E, W, F, I, B, C4, UP)
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è: mypy (strict mode)
- ‚úÖ Coverage: 80%+
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã: –∑–µ–ª–µ–Ω—ã–µ
```

**Docstrings (Google style):**
```python
def trim_context(messages: list, max_messages: int = 10) -> list:
    """–£—Å–µ—á—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.
    
    –í—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç system prompt (–ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ).
    
    Args:
        messages: –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ OpenAI
        max_messages: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–µ —Å—á–∏—Ç–∞—è system)
        
    Returns:
        –£—Å–µ—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º system prompt
        
    Example:
        >>> msgs = [{"role": "system", ...}, {"role": "user", ...}, ...]
        >>> trim_context(msgs, max_messages=5)
        [system_msg, last_5_msgs]
    """
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

#### conventions.mdc checklist:
- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç KISS –ø—Ä–∏–Ω—Ü–∏–ø—É
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ vision.md
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–µ–∑–¥–µ
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ
- [ ] Type hints –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –ù–µ—Ç "—É–º–Ω–æ–≥–æ" –∫–æ–¥–∞
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã < 200 —Å—Ç—Ä–æ–∫

#### vision.md checklist:
- [ ] Python 3.11+
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –∏–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- [ ] In-memory —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- [ ] –¢—Ä–µ—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [ ] KISS, YAGNI, MVP-first
- [ ] Fail Fast –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –¢–µ—Å—Ç

```bash
# 1. –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
make quality

# 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
make coverage

# 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
make run

# 4. Smoke test –≤ Telegram:
#    - /start
#    - –î–∏–∞–ª–æ–≥ —Å –∏—Å—Ç–æ—Ä–∏–µ–π (5+ —Å–æ–æ–±—â–µ–Ω–∏–π)
#    - /clear
#    - /help
#    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ

# –û–∂–∏–¥–∞–µ–º–æ:
# ‚úÖ make quality - –≤—Å–µ –∑–µ–ª–µ–Ω–æ–µ
# ‚úÖ Coverage >= 80%
# ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
# ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º conventions
```

---

## üìã Checklist —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] `make format` - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] `make lint` - 0 –æ—à–∏–±–æ–∫
- [ ] `make typecheck` - 0 –æ—à–∏–±–æ–∫ mypy
- [ ] `make test` - –≤—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª–µ–Ω—ã–µ
- [ ] `make coverage` - >= 80%

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- [ ] **conventions.mdc:** –≤—Å–µ –ø—É–Ω–∫—Ç—ã —Å–æ–±–ª—é–¥–µ–Ω—ã
- [ ] **vision.md:** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –Ω–µ –Ω–∞—Ä—É—à–µ–Ω—ã
- [ ] **workflow.mdc:** –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±–ª—é–¥–µ–Ω

### –†—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] README.md –∞–∫—Ç—É–∞–ª–µ–Ω
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç docstrings
- [ ] –õ–æ–≥–∏ —á–∏—Ç–∞–µ–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤ Telegram
- [ ] –ù–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞

---

## üéØ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv sync

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make format      # –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
make quality     # –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test        # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
make coverage    # –° –æ—Ç—á–µ—Ç–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è

# –ó–∞–ø—É—Å–∫
make run         # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π:

1. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**
   - –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (ruff)
   - –õ–∏–Ω—Ç–∏–Ω–≥ –±–µ–∑ –æ—à–∏–±–æ–∫
   - –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (mypy)
   - Coverage 80%+

2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö side effects
   - Singleton –¥–ª—è OpenAI –∫–ª–∏–µ–Ω—Ç–∞
   - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–º–µ—Å—Ç–æ magic strings
   - Type safety –≤–µ–∑–¥–µ

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è handlers
   - Parametrized —Ç–µ—Å—Ç—ã
   - –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö API

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –ê–∫—Ç—É–∞–ª—å–Ω—ã–π README
   - Docstrings –≤–µ–∑–¥–µ
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

5. **Developer Experience**
   - `make quality` - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ
   - –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
   - –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-11  
**–û—Å–Ω–æ–≤–∞–Ω–∏–µ:** Code review (Senior Python Tech Lead)  
**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:** [vision.md](vision.md) | [tasklist.md](tasklist.md) | [conventions.mdc](../.cursor/rules/conventions.mdc)

